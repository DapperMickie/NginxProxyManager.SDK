# Server Errors

The Server Errors resource provides an API for retrieving and managing server errors in Nginx Proxy Manager. Server errors are automatically generated by the system when they occur.

## Quick Start

```csharp
// Create a client
var client = new NginxProxyManagerClient("http://your-npm-instance:81", "admin@example.com", "your-password");

// List all server errors
var result = await client.ServerErrors.GetAllAsync();
if (result.IsSuccess)
{
    foreach (var error in result.Data)
    {
        Console.WriteLine($"Error: {error.Message} (Host ID: {error.HostId})");
    }
}
```

## Retrieving Server Errors

### Get All Server Errors

```csharp
var result = await client.ServerErrors.GetAllAsync();
if (result.IsSuccess)
{
    foreach (var error in result.Data)
    {
        Console.WriteLine($"Error: {error.Message} (Host ID: {error.HostId})");
    }
}
```

### Get Server Error by ID

```csharp
var result = await client.ServerErrors.GetByIdAsync(1);
if (result.IsSuccess)
{
    var error = result.Data;
    Console.WriteLine($"Error: {error.Message} (Host ID: {error.HostId})");
}
```

### Get Server Errors by Host ID

```csharp
var result = await client.ServerErrors.GetByHostIdAsync(1);
if (result.IsSuccess)
{
    foreach (var error in result.Data)
    {
        Console.WriteLine($"Error: {error.Message}");
    }
}
```

## Deleting Server Errors

### Delete a Server Error

```csharp
var result = await client.ServerErrors.DeleteAsync(1);
if (result.IsSuccess)
{
    Console.WriteLine("Server error deleted successfully");
}
```

### Delete All Server Errors for a Host

```csharp
var result = await client.ServerErrors.DeleteByHostIdAsync(1);
if (result.IsSuccess)
{
    Console.WriteLine("All server errors for host deleted successfully");
}
```

## Error Handling

All operations return an `OperationResult<T>` that contains the result of the operation and any error information:

```csharp
var result = await client.ServerErrors.GetAllAsync();
if (result.IsSuccess)
{
    // Use the retrieved items
    var items = result.Data;
}
else
{
    // Handle the error
    var error = result.Error;
    Console.WriteLine($"Error: {error.Message}");
    Console.WriteLine($"Details: {error.Details}");
}
```

## Advanced Examples

### Monitor Server Errors

```csharp
// Get all server errors
var result = await client.ServerErrors.GetAllAsync();
if (result.IsSuccess)
{
    var errors = result.Data;
    
    // Group errors by host
    var errorsByHost = errors.GroupBy(e => e.HostId);
    
    foreach (var hostGroup in errorsByHost)
    {
        Console.WriteLine($"Host ID: {hostGroup.Key}");
        Console.WriteLine($"Error Count: {hostGroup.Count()}");
        
        foreach (var error in hostGroup)
        {
            Console.WriteLine($"  - {error.Message}");
        }
        
        // Delete all errors for this host if there are too many
        if (hostGroup.Count() > 10)
        {
            var deleteResult = await client.ServerErrors.DeleteByHostIdAsync(hostGroup.Key);
            if (deleteResult.IsSuccess)
            {
                Console.WriteLine($"  - Deleted all errors for host {hostGroup.Key}");
            }
        }
    }
}
```

### Clean Up Old Server Errors

```csharp
// Get all server errors
var result = await client.ServerErrors.GetAllAsync();
if (result.IsSuccess)
{
    var errors = result.Data;
    var oneWeekAgo = DateTime.UtcNow.AddDays(-7);
    
    // Find old errors
    var oldErrors = errors.Where(e => e.CreatedOn < oneWeekAgo).ToList();
    
    Console.WriteLine($"Found {oldErrors.Count} old server errors");
    
    // Delete old errors
    foreach (var error in oldErrors)
    {
        var deleteResult = await client.ServerErrors.DeleteAsync(error.Id);
        if (deleteResult.IsSuccess)
        {
            Console.WriteLine($"Deleted old error: {error.Message}");
        }
    }
}
``` 